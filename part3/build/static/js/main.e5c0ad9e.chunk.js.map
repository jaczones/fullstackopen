{"version":3,"sources":["components/Form.js","components/Search.js","components/Person.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","components/findPerson.js","index.js"],"names":["Form","handleFormSubmission","newName","newNumber","handleNameSubmission","handleNumberSubmission","onSubmit","value","onChange","placeholder","type","Search","searchTerm","setSearchTerm","e","target","Person","person","handleRemoveClick","name","number","onClick","Filter","filteredSearch","map","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","className","App","props","useState","persons","setPersons","setNewName","setNewNumber","notificationMessage","setNotificationMessage","filter","toLowerCase","includes","findPerson","useEffect","personService","initialContacts","catch","error","console","log","setTimeout","notification","event","preventDefault","find","p","personObject","length","alert","window","location","reload","returnedContacts","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e5c0ad9e.chunk.js","sourcesContent":["import React from 'react'\n\nconst Form = ({handleFormSubmission, newName, newNumber, handleNameSubmission, handleNumberSubmission}) => {\n    return (\n        <>\n        <h2>Add New</h2>\n          <form onSubmit={handleFormSubmission}>\n          <p>Name: <input\n          value={newName} \n          onChange ={handleNameSubmission}\n          placeholder=\"Enter a name...\"\n          /></p>\n          Number: <input\n          value={newNumber} \n          onChange ={handleNumberSubmission}\n          placeholder=\"Enter a number...\"\n          />\n          <p><button type=\"submit\">add</button></p>\n          </form>\n        </>\n    )\n}\n\nexport default Form","import React from 'react'\n\nconst Search = ({searchTerm, e, setSearchTerm}) => {\n    return (\n        <>\n        <h2>Phonebook</h2>\n        <p>Filtered Search <input\n        value={searchTerm}\n        onChange={e => setSearchTerm(e.target.value)}\n        />\n      </p>\n      </>\n    )\n}\n\nexport default Search\n","import React from 'react'\n\nconst Person = ({ person, handleRemoveClick }) => {\n  return (\n    <li>{person.name} {person.number} <button onClick={handleRemoveClick}>delete</button></li>\n  )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Filter = ({filteredSearch, handleRemoveClick}) => {\n    return (\n        <>\n        <h2>Numbers</h2>\n        <ul>\n            {filteredSearch.map(person => \n            <Person \n            key={person.id} \n            person={person} \n            handleRemoveClick={() => handleRemoveClick(person.id)}/>\n            )}\n        </ul>\n        </>\n    )\n}\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }","import React from 'react'\n\nconst Notification = ({ message, className }) => {\n    if (message == null) {\n      return null\n    }\n    return (\n      <div className={className}>\n        {message}\n      </div>\n    )\n  }\n\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Form from './components/Form'\nimport Search from './components/Search'\nimport Filter from './components/Filter'\nimport { findPerson } from './components/findPerson'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = (props) => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [searchTerm, setSearchTerm] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const filteredSearch = findPerson(persons, searchTerm)\n  \n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialContacts => {\n        setPersons(initialContacts)\n      })\n      .catch(error => {\n      console.log(\"Error fetching list\")\n      setNotificationMessage({\n        error: `${error} fetching list`\n      });\n      setTimeout(() => {\n      setNotificationMessage(null)\n      }, 5000)\n      })\n  },[])\n\n  const handleFormSubmission = (event) => {\n    event.preventDefault()\n    const person = persons.find((p) => p.name === newName)\n    const personObject = {\n      name: newName,\n      number: newNumber,\n      id: persons.length + 1,\n    }\n    if(person){\n      alert(`${newName} is already in phonebook, replace the old number with a new one?`)\n      personService\n        .update(person.id, personObject)\n      setNotificationMessage({\n        notification: `'${person.name}' was successfully updated`\n      })\n      setTimeout(() => {\n        setNotificationMessage(null)\n        window.location.reload()\n      },5000)\n    }else {\n      personService\n      .create(personObject)\n    .then(returnedContacts => {\n      setNotificationMessage({\n       notification: `An entry for '${personObject.name}' was successfully created`\n      })\n      setTimeout(() => {\n        setNotificationMessage(null)\n      }, 5000)\n      setPersons(persons.concat(returnedContacts))\n      setNewName('')\n      setNewNumber('')\n    })\n    .catch(error => {\n      setNotificationMessage({\n          error: `Error adding ${newName}`\n        });\n      setTimeout(() => {\n      setNotificationMessage(null)\n      }, 5000)\n  })\n}\n  }\n\n  const handleNameSubmission = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberSubmission = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleRemoveClick = id => {\n    const person = persons.find(p => p.id === id)\n    console.log(person)\n    alert(`Delete ${person.name}?`)\n    personService\n    .remove(id)\n    .then(response => {\n      console.log(response)\n      window.location.reload();\n      })\n    .catch(error => {\n      setNotificationMessage({\n        error: `${error} caused contact removal to fail, try again later.`\n      })\n    })\n  }\n\n  return (\n    <div>\n      <Notification \n      message={\n        notificationMessage?.notification || notificationMessage?.error\n        }\n        className={notificationMessage?.notification ? \"success\" : \"error\"} \n        />\n      <Search searchTerm={searchTerm} setSearchTerm={setSearchTerm} />\n      <div>\n        <Form handleFormSubmission={handleFormSubmission} newName={newName} newNumber={newNumber} handleNameSubmission={handleNameSubmission} handleNumberSubmission={handleNumberSubmission} />\n      </div>\n      <Filter filteredSearch={filteredSearch} handleRemoveClick={handleRemoveClick}/>\n    </div>\n  )\n}\n\nexport default App\n","export function findPerson(persons, searchTerm) {\n  return persons.filter(person => {\n    return person.name.toLowerCase().includes(searchTerm.toLowerCase());\n  });\n}\n","import ReactDOM from 'react-dom'\nimport App from './App.js'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}